<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <meta charset="UTF-8">
  <title>ã‚†ã‚‹ã‚†ã‚‹é–“é£Ÿãƒ­ã‚° - å±¥æ­´ç·¨é›†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <link rel="stylesheet" th:href="@{/css/base.css}">
</head>

<body>
  <div class="page">
    <div class="container">
      <div class="page-title">å±¥æ­´ç·¨é›†</div>
      <div class="page-sub">æ—¥ä»˜ã¨æ™‚é–“ã‚’ä¿®æ­£ã§ãã¾ã™</div>
      <div class="card">
        <div class="muted">é£Ÿå“</div>
        <div style="font-weight:900;" th:text="${foodName}">food</div>
        <div class="muted" style="margin-top:6px;">åˆ†é¡</div>
        <div style="font-weight:900;" th:text="${flavorName}">flavor</div>
        <div class="muted" style="margin-top:6px;">ã‚«ãƒ­ãƒªãƒ¼</div>
        <div style="font-weight:900;">
          <span th:text="${calorie}">0</span>kcal</div>
      </div>
      <div class="card">
        <form th:action="@{/intake/update}" method="post" class="stack">
          <input type="hidden" name="intakeId" th:value="${intakeId}">
          <div class="stack">
            <label>æ—¥ä»˜</label>
            <input class="input" type="date" name="eatenDate" th:value="${eatenDate}" required>
          </div>
          <div class="stack">
            <label>æ™‚é–“</label>
            <input class="input" type="time" name="eatenTime" th:value="${#strings.substring(eatenTime, 0, 5)}" required>
			<input type="hidden" name="hiddenDate" th:value="${targetDate}" required>
          </div>
          <br>
          <button class="btn btn-primary tap" type="submit">æ›´æ–°</button>
          <a class="btn btn-ghost tap" th:href="@{/intake/detail(intakeId=${intakeId}, date=${targetDate})}">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</a>
        </form>
      </div>
      <div style="height:72px;">
      </div>
    </div>
  </div>
    <nav class="bottom-nav">
      <a class="nav-item" th:href="@{/eat}">
        <div class="nav-emoji">ğŸ½</div>
        <div class="nav-label">é£Ÿã¹ãŸï¼</div>
      </a>
      <a class="nav-item" th:href="@{/makers/new}">
        <div class="nav-emoji">ğŸ­</div>
        <div class="nav-label">ãƒ¡ãƒ¼ã‚«ãƒ¼ç™»éŒ²</div>
      </a>
      <a class="nav-item" th:href="@{/foods/new}">
        <div class="nav-emoji">ğŸ§ƒ</div>
        <div class="nav-label">é£Ÿå“æƒ…å ±ç™»éŒ²</div>
      </a>
      <a class="nav-item" th:href="@{/flavors/new}">
        <div class="nav-emoji">ğŸ§‚</div>
        <div class="nav-label">æ „é¤Šæƒ…å ±ç™»éŒ²</div>
      </a>
    </nav>
	<script>
	// iOS Safariã§ :active ã‚’ç¢ºå®Ÿã«åŠ¹ã‹ã›ã‚‹
	document.addEventListener('touchstart', () => {}, {passive:true});
	//	é·ç§»æ™‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
	const kick = () => {
	const el = document.querySelector(".page");
	if(!el) return;
	el.classList.remove("is-ready"); // å†ç‚¹ç«ç”¨
	requestAnimationFrame(() => el.classList.add("is-ready"));
	};
	document.addEventListener("DOMContentLoaded", kick);
	// iOS/Safari ã®æˆ»ã‚‹(ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¾©å…ƒ)ã§ã‚‚å†ç‚¹ç«
	window.addEventListener("pageshow", kick);
	</script>
</body>
</html>